<!-- /plugins/task/task.html (VERSÃO COM CAMPOS DO CLOCKIFY) -->
<!DOCTYPE html>
<html lang="en" data-theme="night">
<head>
    <meta charset="UTF-8">
    <title>Central de Tarefas</title>
    <link rel="stylesheet" href="../../src/renderer/styles/main.css">
</head>
<body class="p-4 bg-base-200">
    <div id="toast-container" class="toast toast-top toast-end"></div>

    <div class="max-w-4xl mx-auto space-y-6">
        
        <header class="flex justify-between items-center">
            <h1 class="text-3xl font-bold text-primary">Central de Tarefas</h1>
            <div class="flex items-center gap-2">
                <button id="new-task-btn" class="btn btn-ghost btn-sm">Nova Tarefa Manual</button>
                <button id="sync-clockify-projects-btn" class="btn btn-secondary btn-sm">Sincronizar Clockify</button>
            </div>
        </header>

        <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
                <h2 class="card-title">Tarefas Recentes</h2>
                <div id="tasks-list-container" class="space-y-2 max-h-48 overflow-y-auto p-1">
                    <p>Carregando tarefas...</p>
                </div>
            </div>
        </div>

        <div class="card bg-base-100 shadow-xl">
            <div class="card-body">
                <h2 id="task-form-title" class="card-title">Buscar Tarefa</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                    <label class="form-control w-full md:col-span-2">
                        <div class="label"><span class="label-text font-semibold">ID da Tarefa do ClickUp:</span></div>
                        <div class="join w-full">
                            <input type="text" id="clickup-task-id-input" placeholder="Ex: 86aayu2nh" class="input input-bordered join-item w-full">
                            <button id="fetch-clickup-task-btn" class="btn btn-primary join-item">Buscar</button>
                        </div>
                    </label>
                    <label class="form-control w-full">
                        <div class="label"><span class="label-text">Empresa:</span></div>
                        <select id="company-select" class="select select-bordered w-full" disabled>
                            <option value="" disabled selected>-- Preenchido Automaticamente --</option>
                        </select>
                    </label>
                    <label class="form-control w-full">
                        <div class="label"><span class="label-text">Projeto:</span></div>
                        <select id="project-select" class="select select-bordered w-full" disabled>
                            <option value="" disabled selected>-- Preenchido Automaticamente --</option>
                        </select>
                    </label>
                    <label class="form-control w-full md:col-span-2">
                        <div class="label"><span class="label-text">Título da Tarefa:</span></div>
                        <input type="text" id="task-title" placeholder="Aguardando busca..." class="input input-bordered w-full" readonly>
                    </label>
                    <label class="form-control w-full md:col-span-2">
                        <div class="label"><span class="label-text">Descrição:</span></div>
                        <textarea id="task-description" placeholder="Aguardando busca..." class="textarea textarea-bordered w-full" readonly rows="3"></textarea>
                    </label>
                    <input type="hidden" id="task-url">
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <!-- Seção 2: Registro de Trabalho -->
        <div id="work-log-section" class="card bg-base-100 shadow-xl" style="display: none;">
            <div class="card-body">
                <div id="documentation-section" class="space-y-4">
                    <div class="flex justify-between items-center">
                        <h2 class="card-title">Documentação (Comentário)</h2>
                        <button id="sync-comment-clickup-btn" class="btn btn-secondary btn-sm">Enviar Comentário p/ ClickUp</button>
                    </div>
                    <div id="applicationsContainer" class="space-y-2"></div>
                    <div class="join w-full">
                      <input type="text" id="newAppName" placeholder="Nome da Aplicação" class="input input-bordered join-item w-full">
                      <button id="submitNewApplicationBtn" class="btn join-item">Adicionar Aplicação</button>
                    </div>
                    <textarea id="logOutput" rows="8" placeholder="Gere a documentação aqui..." class="textarea textarea-bordered w-full font-mono text-sm"></textarea>
                </div>

                <div class="divider"></div>

                <div id="time-entry-section" class="space-y-4">
                    <h2 class="card-title">Entradas de Tempo</h2>
                    <div id="time-entries-list" class="space-y-4">
                        <!-- Linhas de tempo serão injetadas aqui pelo JS -->
                    </div>
                    <button id="add-time-entry-btn" class="btn btn-ghost btn-sm">+ Adicionar Lançamento</button>
                </div>
            </div>
        </div>

        <!-- Seção: Histórico de Logs -->
        <div id="work-log-history-section" class="card bg-base-100 shadow-xl" style="display: none;">
            <div class="card-body">
                <h2 class="card-title">Histórico de Logs para esta Tarefa</h2>
                <div id="work-log-history-container" class="mt-4 max-h-64 overflow-y-auto space-y-3 p-1"></div>
            </div>
        </div>
    </div>

    <script src="task-renderer.js"></script>
</body>
</html>